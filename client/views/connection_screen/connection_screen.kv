#:import ConnectToServer domain.commands.ConnectToServer
#:import ak asynckivy

<ConnectionScreenView>:
    host: host
    port: port
    connection_btn: connection_btn

    BoxLayout:
        orientation: "vertical"
        spacing: 5

        MDCard:
            padding: [35, 35, 35, 35]
            orientation: 'vertical'

            AnchorLayout:
                MDTextField:
                    id: host
                    hint_text: "Enter HOST"
                    helper_text: "HOST"
                    helper_text_mode: "persistent"

            AnchorLayout:
                MDTextField:
                    id: port
                    hint_text: "Enter PORT"
                    helper_text: "PORT"
                    helper_text_mode: "persistent"

            AnchorLayout:
                MDRaisedButton:
                    id: connection_btn
                    text: 'Connect'
                    md_bg_color: 1, 0, 0, 1
                    on_release: ak.start(root.controller.process_command(ConnectToServer(host.text, int(port.text))))
